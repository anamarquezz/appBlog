{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nvar _asyncToGenerator = require(\"C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileSystemEngineHostBase = exports.SchematicNameCollisionException = exports.SchematicMissingDescriptionException = exports.SchematicMissingFieldsException = exports.CollectionMissingFieldsException = exports.CollectionMissingSchematicsMapException = exports.FactoryCannotBeResolvedException = exports.SchematicMissingFactoryException = exports.InvalidCollectionJsonException = exports.CollectionCannotBeResolvedException = void 0;\n\nconst core_1 = require(\"@angular-devkit/core\");\n\nconst node_1 = require(\"@angular-devkit/core/node\");\n\nconst fs_1 = require(\"fs\");\n\nconst path_1 = require(\"path\");\n\nconst rxjs_1 = require(\"rxjs\");\n\nconst src_1 = require(\"../src\");\n\nconst file_system_utility_1 = require(\"./file-system-utility\");\n\nclass CollectionCannotBeResolvedException extends core_1.BaseException {\n  constructor(name) {\n    super(`Collection ${JSON.stringify(name)} cannot be resolved.`);\n  }\n\n}\n\nexports.CollectionCannotBeResolvedException = CollectionCannotBeResolvedException;\n\nclass InvalidCollectionJsonException extends core_1.BaseException {\n  constructor(_name, path, jsonException) {\n    let msg = `Collection JSON at path ${JSON.stringify(path)} is invalid.`;\n\n    if (jsonException) {\n      msg = `${msg} ${jsonException.message}`;\n    }\n\n    super(msg);\n  }\n\n}\n\nexports.InvalidCollectionJsonException = InvalidCollectionJsonException;\n\nclass SchematicMissingFactoryException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematic ${JSON.stringify(name)} is missing a factory.`);\n  }\n\n}\n\nexports.SchematicMissingFactoryException = SchematicMissingFactoryException;\n\nclass FactoryCannotBeResolvedException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematic ${JSON.stringify(name)} cannot resolve the factory.`);\n  }\n\n}\n\nexports.FactoryCannotBeResolvedException = FactoryCannotBeResolvedException;\n\nclass CollectionMissingSchematicsMapException extends core_1.BaseException {\n  constructor(name) {\n    super(`Collection \"${name}\" does not have a schematics map.`);\n  }\n\n}\n\nexports.CollectionMissingSchematicsMapException = CollectionMissingSchematicsMapException;\n\nclass CollectionMissingFieldsException extends core_1.BaseException {\n  constructor(name) {\n    super(`Collection \"${name}\" is missing fields.`);\n  }\n\n}\n\nexports.CollectionMissingFieldsException = CollectionMissingFieldsException;\n\nclass SchematicMissingFieldsException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematic \"${name}\" is missing fields.`);\n  }\n\n}\n\nexports.SchematicMissingFieldsException = SchematicMissingFieldsException;\n\nclass SchematicMissingDescriptionException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematics \"${name}\" does not have a description.`);\n  }\n\n}\n\nexports.SchematicMissingDescriptionException = SchematicMissingDescriptionException;\n\nclass SchematicNameCollisionException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematics/alias ${JSON.stringify(name)} collides with another alias or schematic` + ' name.');\n  }\n\n}\n\nexports.SchematicNameCollisionException = SchematicNameCollisionException;\n/**\n * A EngineHost base class that uses the file system to resolve collections. This is the base of\n * all other EngineHost provided by the tooling part of the Schematics library.\n */\n\nclass FileSystemEngineHostBase {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this._transforms = [];\n    this._contextTransforms = [];\n    this._taskFactories = new Map();\n  }\n\n  listSchematicNames(collection, includeHidden) {\n    const schematics = [];\n\n    for (const key of Object.keys(collection.schematics)) {\n      const schematic = collection.schematics[key];\n\n      if (schematic.hidden && !includeHidden || schematic.private) {\n        continue;\n      } // If extends is present without a factory it is an alias, do not return it\n      //   unless it is from another collection.\n\n\n      if (!schematic.extends || schematic.factory) {\n        schematics.push(key);\n      } else if (schematic.extends && schematic.extends.indexOf(':') !== -1) {\n        schematics.push(key);\n      }\n    }\n\n    return schematics;\n  }\n\n  registerOptionsTransform(t) {\n    this._transforms.push(t);\n  }\n\n  registerContextTransform(t) {\n    this._contextTransforms.push(t);\n  }\n  /**\n   *\n   * @param name\n   * @return {{path: string}}\n   */\n\n\n  createCollectionDescription(name, requester) {\n    const path = this._resolveCollectionPath(name, requester === null || requester === void 0 ? void 0 : requester.path);\n\n    const jsonValue = (0, file_system_utility_1.readJsonFile)(path);\n\n    if (!jsonValue || typeof jsonValue != 'object' || Array.isArray(jsonValue)) {\n      throw new InvalidCollectionJsonException(name, path);\n    } // normalize extends property to an array\n\n\n    if (typeof jsonValue['extends'] === 'string') {\n      jsonValue['extends'] = [jsonValue['extends']];\n    }\n\n    const description = this._transformCollectionDescription(name, { ...jsonValue,\n      path\n    });\n\n    if (!description || !description.name) {\n      throw new InvalidCollectionJsonException(name, path);\n    } // Validate aliases.\n\n\n    const allNames = Object.keys(description.schematics);\n\n    for (const schematicName of Object.keys(description.schematics)) {\n      const aliases = description.schematics[schematicName].aliases || [];\n\n      for (const alias of aliases) {\n        if (allNames.indexOf(alias) != -1) {\n          throw new SchematicNameCollisionException(alias);\n        }\n      }\n\n      allNames.push(...aliases);\n    }\n\n    return description;\n  }\n\n  createSchematicDescription(name, collection) {\n    // Resolve aliases first.\n    for (const schematicName of Object.keys(collection.schematics)) {\n      const schematicDescription = collection.schematics[schematicName];\n\n      if (schematicDescription.aliases && schematicDescription.aliases.indexOf(name) != -1) {\n        name = schematicName;\n        break;\n      }\n    }\n\n    if (!(name in collection.schematics)) {\n      return null;\n    }\n\n    const collectionPath = (0, path_1.dirname)(collection.path);\n    const partialDesc = collection.schematics[name];\n\n    if (!partialDesc) {\n      return null;\n    }\n\n    if (partialDesc.extends) {\n      const index = partialDesc.extends.indexOf(':');\n      const collectionName = index !== -1 ? partialDesc.extends.slice(0, index) : null;\n      const schematicName = index === -1 ? partialDesc.extends : partialDesc.extends.slice(index + 1);\n\n      if (collectionName !== null) {\n        const extendCollection = this.createCollectionDescription(collectionName);\n        return this.createSchematicDescription(schematicName, extendCollection);\n      } else {\n        return this.createSchematicDescription(schematicName, collection);\n      }\n    } // Use any on this ref as we don't have the OptionT here, but we don't need it (we only need\n    // the path).\n\n\n    if (!partialDesc.factory) {\n      throw new SchematicMissingFactoryException(name);\n    }\n\n    const resolvedRef = this._resolveReferenceString(partialDesc.factory, collectionPath, collection);\n\n    if (!resolvedRef) {\n      throw new FactoryCannotBeResolvedException(name);\n    }\n\n    let schema = partialDesc.schema;\n    let schemaJson = undefined;\n\n    if (schema) {\n      if (!(0, path_1.isAbsolute)(schema)) {\n        schema = (0, path_1.join)(collectionPath, schema);\n      }\n\n      schemaJson = (0, file_system_utility_1.readJsonFile)(schema);\n    } // The schematic path is used to resolve URLs.\n    // We should be able to just do `dirname(resolvedRef.path)` but for compatibility with\n    // Bazel under Windows this directory needs to be resolved from the collection instead.\n    // This is needed because on Bazel under Windows the data files (such as the collection or\n    // url files) are not in the same place as the compiled JS.\n\n\n    const maybePath = (0, path_1.join)(collectionPath, partialDesc.factory);\n    const path = (0, fs_1.existsSync)(maybePath) && (0, fs_1.statSync)(maybePath).isDirectory() ? maybePath : (0, path_1.dirname)(maybePath);\n    return this._transformSchematicDescription(name, collection, { ...partialDesc,\n      schema,\n      schemaJson,\n      name,\n      path,\n      factoryFn: resolvedRef.ref,\n      collection\n    });\n  }\n\n  createSourceFromUrl(url) {\n    switch (url.protocol) {\n      case null:\n      case 'file:':\n        return context => {\n          // Check if context has necessary FileSystemSchematicContext path property\n          const fileDescription = context.schematic.description;\n\n          if (fileDescription.path === undefined) {\n            throw new Error('Unsupported schematic context. Expected a FileSystemSchematicContext.');\n          } // Resolve all file:///a/b/c/d from the schematic's own path, and not the current\n          // path.\n\n\n          const root = (0, core_1.normalize)((0, path_1.resolve)(fileDescription.path, url.path || ''));\n          return new src_1.HostCreateTree(new core_1.virtualFs.ScopedHost(new node_1.NodeJsSyncHost(), root));\n        };\n    }\n\n    return null;\n  }\n\n  transformOptions(schematic, options, context) {\n    var _this = this;\n\n    const transform = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* () {\n        let transformedOptions = options;\n\n        for (const transformer of _this._transforms) {\n          const transformerResult = transformer(schematic, transformedOptions, context);\n          transformedOptions = yield (0, rxjs_1.isObservable)(transformerResult) ? transformerResult.toPromise() : transformerResult;\n        }\n\n        return transformedOptions;\n      });\n\n      return function transform() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return (0, rxjs_1.from)(transform());\n  }\n\n  transformContext(context) {\n    return this._contextTransforms.reduce((acc, curr) => curr(acc), context);\n  }\n\n  getSchematicRuleFactory(schematic, _collection) {\n    return schematic.factoryFn;\n  }\n\n  registerTaskExecutor(factory, options) {\n    this._taskFactories.set(factory.name, () => (0, rxjs_1.from)(factory.create(options)));\n  }\n\n  createTaskExecutor(name) {\n    const factory = this._taskFactories.get(name);\n\n    if (factory) {\n      return factory();\n    }\n\n    return (0, rxjs_1.throwError)(new src_1.UnregisteredTaskException(name));\n  }\n\n  hasTaskExecutor(name) {\n    return this._taskFactories.has(name);\n  }\n\n}\n\nexports.FileSystemEngineHostBase = FileSystemEngineHostBase;","map":{"version":3,"names":["Object","defineProperty","exports","value","FileSystemEngineHostBase","SchematicNameCollisionException","SchematicMissingDescriptionException","SchematicMissingFieldsException","CollectionMissingFieldsException","CollectionMissingSchematicsMapException","FactoryCannotBeResolvedException","SchematicMissingFactoryException","InvalidCollectionJsonException","CollectionCannotBeResolvedException","core_1","require","node_1","fs_1","path_1","rxjs_1","src_1","file_system_utility_1","BaseException","constructor","name","JSON","stringify","_name","path","jsonException","msg","message","_transforms","_contextTransforms","_taskFactories","Map","listSchematicNames","collection","includeHidden","schematics","key","keys","schematic","hidden","private","extends","factory","push","indexOf","registerOptionsTransform","t","registerContextTransform","createCollectionDescription","requester","_resolveCollectionPath","jsonValue","readJsonFile","Array","isArray","description","_transformCollectionDescription","allNames","schematicName","aliases","alias","createSchematicDescription","schematicDescription","collectionPath","dirname","partialDesc","index","collectionName","slice","extendCollection","resolvedRef","_resolveReferenceString","schema","schemaJson","undefined","isAbsolute","join","maybePath","existsSync","statSync","isDirectory","_transformSchematicDescription","factoryFn","ref","createSourceFromUrl","url","protocol","context","fileDescription","Error","root","normalize","resolve","HostCreateTree","virtualFs","ScopedHost","NodeJsSyncHost","transformOptions","options","transform","transformedOptions","transformer","transformerResult","isObservable","toPromise","from","transformContext","reduce","acc","curr","getSchematicRuleFactory","_collection","registerTaskExecutor","set","create","createTaskExecutor","get","throwError","UnregisteredTaskException","hasTaskExecutor","has"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/@angular-devkit/schematics/tools/file-system-engine-host-base.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemEngineHostBase = exports.SchematicNameCollisionException = exports.SchematicMissingDescriptionException = exports.SchematicMissingFieldsException = exports.CollectionMissingFieldsException = exports.CollectionMissingSchematicsMapException = exports.FactoryCannotBeResolvedException = exports.SchematicMissingFactoryException = exports.InvalidCollectionJsonException = exports.CollectionCannotBeResolvedException = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst node_1 = require(\"@angular-devkit/core/node\");\nconst fs_1 = require(\"fs\");\nconst path_1 = require(\"path\");\nconst rxjs_1 = require(\"rxjs\");\nconst src_1 = require(\"../src\");\nconst file_system_utility_1 = require(\"./file-system-utility\");\nclass CollectionCannotBeResolvedException extends core_1.BaseException {\n    constructor(name) {\n        super(`Collection ${JSON.stringify(name)} cannot be resolved.`);\n    }\n}\nexports.CollectionCannotBeResolvedException = CollectionCannotBeResolvedException;\nclass InvalidCollectionJsonException extends core_1.BaseException {\n    constructor(_name, path, jsonException) {\n        let msg = `Collection JSON at path ${JSON.stringify(path)} is invalid.`;\n        if (jsonException) {\n            msg = `${msg} ${jsonException.message}`;\n        }\n        super(msg);\n    }\n}\nexports.InvalidCollectionJsonException = InvalidCollectionJsonException;\nclass SchematicMissingFactoryException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematic ${JSON.stringify(name)} is missing a factory.`);\n    }\n}\nexports.SchematicMissingFactoryException = SchematicMissingFactoryException;\nclass FactoryCannotBeResolvedException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematic ${JSON.stringify(name)} cannot resolve the factory.`);\n    }\n}\nexports.FactoryCannotBeResolvedException = FactoryCannotBeResolvedException;\nclass CollectionMissingSchematicsMapException extends core_1.BaseException {\n    constructor(name) {\n        super(`Collection \"${name}\" does not have a schematics map.`);\n    }\n}\nexports.CollectionMissingSchematicsMapException = CollectionMissingSchematicsMapException;\nclass CollectionMissingFieldsException extends core_1.BaseException {\n    constructor(name) {\n        super(`Collection \"${name}\" is missing fields.`);\n    }\n}\nexports.CollectionMissingFieldsException = CollectionMissingFieldsException;\nclass SchematicMissingFieldsException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematic \"${name}\" is missing fields.`);\n    }\n}\nexports.SchematicMissingFieldsException = SchematicMissingFieldsException;\nclass SchematicMissingDescriptionException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematics \"${name}\" does not have a description.`);\n    }\n}\nexports.SchematicMissingDescriptionException = SchematicMissingDescriptionException;\nclass SchematicNameCollisionException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematics/alias ${JSON.stringify(name)} collides with another alias or schematic` +\n            ' name.');\n    }\n}\nexports.SchematicNameCollisionException = SchematicNameCollisionException;\n/**\n * A EngineHost base class that uses the file system to resolve collections. This is the base of\n * all other EngineHost provided by the tooling part of the Schematics library.\n */\nclass FileSystemEngineHostBase {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._transforms = [];\n        this._contextTransforms = [];\n        this._taskFactories = new Map();\n    }\n    listSchematicNames(collection, includeHidden) {\n        const schematics = [];\n        for (const key of Object.keys(collection.schematics)) {\n            const schematic = collection.schematics[key];\n            if ((schematic.hidden && !includeHidden) || schematic.private) {\n                continue;\n            }\n            // If extends is present without a factory it is an alias, do not return it\n            //   unless it is from another collection.\n            if (!schematic.extends || schematic.factory) {\n                schematics.push(key);\n            }\n            else if (schematic.extends && schematic.extends.indexOf(':') !== -1) {\n                schematics.push(key);\n            }\n        }\n        return schematics;\n    }\n    registerOptionsTransform(t) {\n        this._transforms.push(t);\n    }\n    registerContextTransform(t) {\n        this._contextTransforms.push(t);\n    }\n    /**\n     *\n     * @param name\n     * @return {{path: string}}\n     */\n    createCollectionDescription(name, requester) {\n        const path = this._resolveCollectionPath(name, requester === null || requester === void 0 ? void 0 : requester.path);\n        const jsonValue = (0, file_system_utility_1.readJsonFile)(path);\n        if (!jsonValue || typeof jsonValue != 'object' || Array.isArray(jsonValue)) {\n            throw new InvalidCollectionJsonException(name, path);\n        }\n        // normalize extends property to an array\n        if (typeof jsonValue['extends'] === 'string') {\n            jsonValue['extends'] = [jsonValue['extends']];\n        }\n        const description = this._transformCollectionDescription(name, {\n            ...jsonValue,\n            path,\n        });\n        if (!description || !description.name) {\n            throw new InvalidCollectionJsonException(name, path);\n        }\n        // Validate aliases.\n        const allNames = Object.keys(description.schematics);\n        for (const schematicName of Object.keys(description.schematics)) {\n            const aliases = description.schematics[schematicName].aliases || [];\n            for (const alias of aliases) {\n                if (allNames.indexOf(alias) != -1) {\n                    throw new SchematicNameCollisionException(alias);\n                }\n            }\n            allNames.push(...aliases);\n        }\n        return description;\n    }\n    createSchematicDescription(name, collection) {\n        // Resolve aliases first.\n        for (const schematicName of Object.keys(collection.schematics)) {\n            const schematicDescription = collection.schematics[schematicName];\n            if (schematicDescription.aliases && schematicDescription.aliases.indexOf(name) != -1) {\n                name = schematicName;\n                break;\n            }\n        }\n        if (!(name in collection.schematics)) {\n            return null;\n        }\n        const collectionPath = (0, path_1.dirname)(collection.path);\n        const partialDesc = collection.schematics[name];\n        if (!partialDesc) {\n            return null;\n        }\n        if (partialDesc.extends) {\n            const index = partialDesc.extends.indexOf(':');\n            const collectionName = index !== -1 ? partialDesc.extends.slice(0, index) : null;\n            const schematicName = index === -1 ? partialDesc.extends : partialDesc.extends.slice(index + 1);\n            if (collectionName !== null) {\n                const extendCollection = this.createCollectionDescription(collectionName);\n                return this.createSchematicDescription(schematicName, extendCollection);\n            }\n            else {\n                return this.createSchematicDescription(schematicName, collection);\n            }\n        }\n        // Use any on this ref as we don't have the OptionT here, but we don't need it (we only need\n        // the path).\n        if (!partialDesc.factory) {\n            throw new SchematicMissingFactoryException(name);\n        }\n        const resolvedRef = this._resolveReferenceString(partialDesc.factory, collectionPath, collection);\n        if (!resolvedRef) {\n            throw new FactoryCannotBeResolvedException(name);\n        }\n        let schema = partialDesc.schema;\n        let schemaJson = undefined;\n        if (schema) {\n            if (!(0, path_1.isAbsolute)(schema)) {\n                schema = (0, path_1.join)(collectionPath, schema);\n            }\n            schemaJson = (0, file_system_utility_1.readJsonFile)(schema);\n        }\n        // The schematic path is used to resolve URLs.\n        // We should be able to just do `dirname(resolvedRef.path)` but for compatibility with\n        // Bazel under Windows this directory needs to be resolved from the collection instead.\n        // This is needed because on Bazel under Windows the data files (such as the collection or\n        // url files) are not in the same place as the compiled JS.\n        const maybePath = (0, path_1.join)(collectionPath, partialDesc.factory);\n        const path = (0, fs_1.existsSync)(maybePath) && (0, fs_1.statSync)(maybePath).isDirectory() ? maybePath : (0, path_1.dirname)(maybePath);\n        return this._transformSchematicDescription(name, collection, {\n            ...partialDesc,\n            schema,\n            schemaJson,\n            name,\n            path,\n            factoryFn: resolvedRef.ref,\n            collection,\n        });\n    }\n    createSourceFromUrl(url) {\n        switch (url.protocol) {\n            case null:\n            case 'file:':\n                return (context) => {\n                    // Check if context has necessary FileSystemSchematicContext path property\n                    const fileDescription = context.schematic.description;\n                    if (fileDescription.path === undefined) {\n                        throw new Error('Unsupported schematic context. Expected a FileSystemSchematicContext.');\n                    }\n                    // Resolve all file:///a/b/c/d from the schematic's own path, and not the current\n                    // path.\n                    const root = (0, core_1.normalize)((0, path_1.resolve)(fileDescription.path, url.path || ''));\n                    return new src_1.HostCreateTree(new core_1.virtualFs.ScopedHost(new node_1.NodeJsSyncHost(), root));\n                };\n        }\n        return null;\n    }\n    transformOptions(schematic, options, context) {\n        const transform = async () => {\n            let transformedOptions = options;\n            for (const transformer of this._transforms) {\n                const transformerResult = transformer(schematic, transformedOptions, context);\n                transformedOptions = await ((0, rxjs_1.isObservable)(transformerResult)\n                    ? transformerResult.toPromise()\n                    : transformerResult);\n            }\n            return transformedOptions;\n        };\n        return (0, rxjs_1.from)(transform());\n    }\n    transformContext(context) {\n        return this._contextTransforms.reduce((acc, curr) => curr(acc), context);\n    }\n    getSchematicRuleFactory(schematic, _collection) {\n        return schematic.factoryFn;\n    }\n    registerTaskExecutor(factory, options) {\n        this._taskFactories.set(factory.name, () => (0, rxjs_1.from)(factory.create(options)));\n    }\n    createTaskExecutor(name) {\n        const factory = this._taskFactories.get(name);\n        if (factory) {\n            return factory();\n        }\n        return (0, rxjs_1.throwError)(new src_1.UnregisteredTaskException(name));\n    }\n    hasTaskExecutor(name) {\n        return this._taskFactories.has(name);\n    }\n}\nexports.FileSystemEngineHostBase = FileSystemEngineHostBase;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}