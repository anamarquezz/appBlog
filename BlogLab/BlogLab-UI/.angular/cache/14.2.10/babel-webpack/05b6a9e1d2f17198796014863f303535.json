{"ast":null,"code":"\"use strict\";\n/***\n * Node External Editor\n *\n * Kevin Gravier <kevin@mrkmg.com>\n * MIT 2019\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar chardet_1 = require(\"chardet\");\n\nvar child_process_1 = require(\"child_process\");\n\nvar fs_1 = require(\"fs\");\n\nvar iconv_lite_1 = require(\"iconv-lite\");\n\nvar tmp_1 = require(\"tmp\");\n\nvar CreateFileError_1 = require(\"./errors/CreateFileError\");\n\nexports.CreateFileError = CreateFileError_1.CreateFileError;\n\nvar LaunchEditorError_1 = require(\"./errors/LaunchEditorError\");\n\nexports.LaunchEditorError = LaunchEditorError_1.LaunchEditorError;\n\nvar ReadFileError_1 = require(\"./errors/ReadFileError\");\n\nexports.ReadFileError = ReadFileError_1.ReadFileError;\n\nvar RemoveFileError_1 = require(\"./errors/RemoveFileError\");\n\nexports.RemoveFileError = RemoveFileError_1.RemoveFileError;\n\nfunction edit(text, fileOptions) {\n  if (text === void 0) {\n    text = \"\";\n  }\n\n  var editor = new ExternalEditor(text, fileOptions);\n  editor.run();\n  editor.cleanup();\n  return editor.text;\n}\n\nexports.edit = edit;\n\nfunction editAsync(text, callback, fileOptions) {\n  if (text === void 0) {\n    text = \"\";\n  }\n\n  var editor = new ExternalEditor(text, fileOptions);\n  editor.runAsync(function (err, result) {\n    if (err) {\n      setImmediate(callback, err, null);\n    } else {\n      try {\n        editor.cleanup();\n        setImmediate(callback, null, result);\n      } catch (cleanupError) {\n        setImmediate(callback, cleanupError, null);\n      }\n    }\n  });\n}\n\nexports.editAsync = editAsync;\n\nvar ExternalEditor =\n/** @class */\nfunction () {\n  function ExternalEditor(text, fileOptions) {\n    if (text === void 0) {\n      text = \"\";\n    }\n\n    this.text = \"\";\n    this.fileOptions = {};\n    this.text = text;\n\n    if (fileOptions) {\n      this.fileOptions = fileOptions;\n    }\n\n    this.determineEditor();\n    this.createTemporaryFile();\n  }\n\n  ExternalEditor.splitStringBySpace = function (str) {\n    var pieces = [];\n    var currentString = \"\";\n\n    for (var strIndex = 0; strIndex < str.length; strIndex++) {\n      var currentLetter = str[strIndex];\n\n      if (strIndex > 0 && currentLetter === \" \" && str[strIndex - 1] !== \"\\\\\" && currentString.length > 0) {\n        pieces.push(currentString);\n        currentString = \"\";\n      } else {\n        currentString += currentLetter;\n      }\n    }\n\n    if (currentString.length > 0) {\n      pieces.push(currentString);\n    }\n\n    return pieces;\n  };\n\n  Object.defineProperty(ExternalEditor.prototype, \"temp_file\", {\n    get: function () {\n      console.log(\"DEPRECATED: temp_file. Use tempFile moving forward.\");\n      return this.tempFile;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ExternalEditor.prototype, \"last_exit_status\", {\n    get: function () {\n      console.log(\"DEPRECATED: last_exit_status. Use lastExitStatus moving forward.\");\n      return this.lastExitStatus;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ExternalEditor.prototype.run = function () {\n    this.launchEditor();\n    this.readTemporaryFile();\n    return this.text;\n  };\n\n  ExternalEditor.prototype.runAsync = function (callback) {\n    var _this = this;\n\n    try {\n      this.launchEditorAsync(function () {\n        try {\n          _this.readTemporaryFile();\n\n          setImmediate(callback, null, _this.text);\n        } catch (readError) {\n          setImmediate(callback, readError, null);\n        }\n      });\n    } catch (launchError) {\n      setImmediate(callback, launchError, null);\n    }\n  };\n\n  ExternalEditor.prototype.cleanup = function () {\n    this.removeTemporaryFile();\n  };\n\n  ExternalEditor.prototype.determineEditor = function () {\n    var editor = process.env.VISUAL ? process.env.VISUAL : process.env.EDITOR ? process.env.EDITOR : /^win/.test(process.platform) ? \"notepad\" : \"vim\";\n    var editorOpts = ExternalEditor.splitStringBySpace(editor).map(function (piece) {\n      return piece.replace(\"\\\\ \", \" \");\n    });\n    var bin = editorOpts.shift();\n    this.editor = {\n      args: editorOpts,\n      bin: bin\n    };\n  };\n\n  ExternalEditor.prototype.createTemporaryFile = function () {\n    try {\n      this.tempFile = tmp_1.tmpNameSync(this.fileOptions);\n      var opt = {\n        encoding: \"utf8\"\n      };\n\n      if (this.fileOptions.hasOwnProperty(\"mode\")) {\n        opt.mode = this.fileOptions.mode;\n      }\n\n      fs_1.writeFileSync(this.tempFile, this.text, opt);\n    } catch (createFileError) {\n      throw new CreateFileError_1.CreateFileError(createFileError);\n    }\n  };\n\n  ExternalEditor.prototype.readTemporaryFile = function () {\n    try {\n      var tempFileBuffer = fs_1.readFileSync(this.tempFile);\n\n      if (tempFileBuffer.length === 0) {\n        this.text = \"\";\n      } else {\n        var encoding = chardet_1.detect(tempFileBuffer).toString();\n\n        if (!iconv_lite_1.encodingExists(encoding)) {\n          // Probably a bad idea, but will at least prevent crashing\n          encoding = \"utf8\";\n        }\n\n        this.text = iconv_lite_1.decode(tempFileBuffer, encoding);\n      }\n    } catch (readFileError) {\n      throw new ReadFileError_1.ReadFileError(readFileError);\n    }\n  };\n\n  ExternalEditor.prototype.removeTemporaryFile = function () {\n    try {\n      fs_1.unlinkSync(this.tempFile);\n    } catch (removeFileError) {\n      throw new RemoveFileError_1.RemoveFileError(removeFileError);\n    }\n  };\n\n  ExternalEditor.prototype.launchEditor = function () {\n    try {\n      var editorProcess = child_process_1.spawnSync(this.editor.bin, this.editor.args.concat([this.tempFile]), {\n        stdio: \"inherit\"\n      });\n      this.lastExitStatus = editorProcess.status;\n    } catch (launchError) {\n      throw new LaunchEditorError_1.LaunchEditorError(launchError);\n    }\n  };\n\n  ExternalEditor.prototype.launchEditorAsync = function (callback) {\n    var _this = this;\n\n    try {\n      var editorProcess = child_process_1.spawn(this.editor.bin, this.editor.args.concat([this.tempFile]), {\n        stdio: \"inherit\"\n      });\n      editorProcess.on(\"exit\", function (code) {\n        _this.lastExitStatus = code;\n        setImmediate(callback);\n      });\n    } catch (launchError) {\n      throw new LaunchEditorError_1.LaunchEditorError(launchError);\n    }\n  };\n\n  return ExternalEditor;\n}();\n\nexports.ExternalEditor = ExternalEditor;","map":{"version":3,"names":["Object","defineProperty","exports","value","chardet_1","require","child_process_1","fs_1","iconv_lite_1","tmp_1","CreateFileError_1","CreateFileError","LaunchEditorError_1","LaunchEditorError","ReadFileError_1","ReadFileError","RemoveFileError_1","RemoveFileError","edit","text","fileOptions","editor","ExternalEditor","run","cleanup","editAsync","callback","runAsync","err","result","setImmediate","cleanupError","determineEditor","createTemporaryFile","splitStringBySpace","str","pieces","currentString","strIndex","length","currentLetter","push","prototype","get","console","log","tempFile","enumerable","configurable","lastExitStatus","launchEditor","readTemporaryFile","_this","launchEditorAsync","readError","launchError","removeTemporaryFile","process","env","VISUAL","EDITOR","test","platform","editorOpts","map","piece","replace","bin","shift","args","tmpNameSync","opt","encoding","hasOwnProperty","mode","writeFileSync","createFileError","tempFileBuffer","readFileSync","detect","toString","encodingExists","decode","readFileError","unlinkSync","removeFileError","editorProcess","spawnSync","concat","stdio","status","spawn","on","code"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/external-editor/main/index.js"],"sourcesContent":["\"use strict\";\n/***\n * Node External Editor\n *\n * Kevin Gravier <kevin@mrkmg.com>\n * MIT 2019\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar chardet_1 = require(\"chardet\");\nvar child_process_1 = require(\"child_process\");\nvar fs_1 = require(\"fs\");\nvar iconv_lite_1 = require(\"iconv-lite\");\nvar tmp_1 = require(\"tmp\");\nvar CreateFileError_1 = require(\"./errors/CreateFileError\");\nexports.CreateFileError = CreateFileError_1.CreateFileError;\nvar LaunchEditorError_1 = require(\"./errors/LaunchEditorError\");\nexports.LaunchEditorError = LaunchEditorError_1.LaunchEditorError;\nvar ReadFileError_1 = require(\"./errors/ReadFileError\");\nexports.ReadFileError = ReadFileError_1.ReadFileError;\nvar RemoveFileError_1 = require(\"./errors/RemoveFileError\");\nexports.RemoveFileError = RemoveFileError_1.RemoveFileError;\nfunction edit(text, fileOptions) {\n    if (text === void 0) { text = \"\"; }\n    var editor = new ExternalEditor(text, fileOptions);\n    editor.run();\n    editor.cleanup();\n    return editor.text;\n}\nexports.edit = edit;\nfunction editAsync(text, callback, fileOptions) {\n    if (text === void 0) { text = \"\"; }\n    var editor = new ExternalEditor(text, fileOptions);\n    editor.runAsync(function (err, result) {\n        if (err) {\n            setImmediate(callback, err, null);\n        }\n        else {\n            try {\n                editor.cleanup();\n                setImmediate(callback, null, result);\n            }\n            catch (cleanupError) {\n                setImmediate(callback, cleanupError, null);\n            }\n        }\n    });\n}\nexports.editAsync = editAsync;\nvar ExternalEditor = /** @class */ (function () {\n    function ExternalEditor(text, fileOptions) {\n        if (text === void 0) { text = \"\"; }\n        this.text = \"\";\n        this.fileOptions = {};\n        this.text = text;\n        if (fileOptions) {\n            this.fileOptions = fileOptions;\n        }\n        this.determineEditor();\n        this.createTemporaryFile();\n    }\n    ExternalEditor.splitStringBySpace = function (str) {\n        var pieces = [];\n        var currentString = \"\";\n        for (var strIndex = 0; strIndex < str.length; strIndex++) {\n            var currentLetter = str[strIndex];\n            if (strIndex > 0 && currentLetter === \" \" && str[strIndex - 1] !== \"\\\\\" && currentString.length > 0) {\n                pieces.push(currentString);\n                currentString = \"\";\n            }\n            else {\n                currentString += currentLetter;\n            }\n        }\n        if (currentString.length > 0) {\n            pieces.push(currentString);\n        }\n        return pieces;\n    };\n    Object.defineProperty(ExternalEditor.prototype, \"temp_file\", {\n        get: function () {\n            console.log(\"DEPRECATED: temp_file. Use tempFile moving forward.\");\n            return this.tempFile;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ExternalEditor.prototype, \"last_exit_status\", {\n        get: function () {\n            console.log(\"DEPRECATED: last_exit_status. Use lastExitStatus moving forward.\");\n            return this.lastExitStatus;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExternalEditor.prototype.run = function () {\n        this.launchEditor();\n        this.readTemporaryFile();\n        return this.text;\n    };\n    ExternalEditor.prototype.runAsync = function (callback) {\n        var _this = this;\n        try {\n            this.launchEditorAsync(function () {\n                try {\n                    _this.readTemporaryFile();\n                    setImmediate(callback, null, _this.text);\n                }\n                catch (readError) {\n                    setImmediate(callback, readError, null);\n                }\n            });\n        }\n        catch (launchError) {\n            setImmediate(callback, launchError, null);\n        }\n    };\n    ExternalEditor.prototype.cleanup = function () {\n        this.removeTemporaryFile();\n    };\n    ExternalEditor.prototype.determineEditor = function () {\n        var editor = process.env.VISUAL ? process.env.VISUAL :\n            process.env.EDITOR ? process.env.EDITOR :\n                /^win/.test(process.platform) ? \"notepad\" :\n                    \"vim\";\n        var editorOpts = ExternalEditor.splitStringBySpace(editor).map(function (piece) { return piece.replace(\"\\\\ \", \" \"); });\n        var bin = editorOpts.shift();\n        this.editor = { args: editorOpts, bin: bin };\n    };\n    ExternalEditor.prototype.createTemporaryFile = function () {\n        try {\n            this.tempFile = tmp_1.tmpNameSync(this.fileOptions);\n            var opt = { encoding: \"utf8\" };\n            if (this.fileOptions.hasOwnProperty(\"mode\")) {\n                opt.mode = this.fileOptions.mode;\n            }\n            fs_1.writeFileSync(this.tempFile, this.text, opt);\n        }\n        catch (createFileError) {\n            throw new CreateFileError_1.CreateFileError(createFileError);\n        }\n    };\n    ExternalEditor.prototype.readTemporaryFile = function () {\n        try {\n            var tempFileBuffer = fs_1.readFileSync(this.tempFile);\n            if (tempFileBuffer.length === 0) {\n                this.text = \"\";\n            }\n            else {\n                var encoding = chardet_1.detect(tempFileBuffer).toString();\n                if (!iconv_lite_1.encodingExists(encoding)) {\n                    // Probably a bad idea, but will at least prevent crashing\n                    encoding = \"utf8\";\n                }\n                this.text = iconv_lite_1.decode(tempFileBuffer, encoding);\n            }\n        }\n        catch (readFileError) {\n            throw new ReadFileError_1.ReadFileError(readFileError);\n        }\n    };\n    ExternalEditor.prototype.removeTemporaryFile = function () {\n        try {\n            fs_1.unlinkSync(this.tempFile);\n        }\n        catch (removeFileError) {\n            throw new RemoveFileError_1.RemoveFileError(removeFileError);\n        }\n    };\n    ExternalEditor.prototype.launchEditor = function () {\n        try {\n            var editorProcess = child_process_1.spawnSync(this.editor.bin, this.editor.args.concat([this.tempFile]), { stdio: \"inherit\" });\n            this.lastExitStatus = editorProcess.status;\n        }\n        catch (launchError) {\n            throw new LaunchEditorError_1.LaunchEditorError(launchError);\n        }\n    };\n    ExternalEditor.prototype.launchEditorAsync = function (callback) {\n        var _this = this;\n        try {\n            var editorProcess = child_process_1.spawn(this.editor.bin, this.editor.args.concat([this.tempFile]), { stdio: \"inherit\" });\n            editorProcess.on(\"exit\", function (code) {\n                _this.lastExitStatus = code;\n                setImmediate(callback);\n            });\n        }\n        catch (launchError) {\n            throw new LaunchEditorError_1.LaunchEditorError(launchError);\n        }\n    };\n    return ExternalEditor;\n}());\nexports.ExternalEditor = ExternalEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}