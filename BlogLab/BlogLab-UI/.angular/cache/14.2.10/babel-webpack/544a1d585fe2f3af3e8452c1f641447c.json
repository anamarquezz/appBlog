{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeModulesEngineHost = exports.NodePackageDoesNotSupportSchematics = void 0;\n\nconst core_1 = require(\"@angular-devkit/core\");\n\nconst path_1 = require(\"path\");\n\nconst export_ref_1 = require(\"./export-ref\");\n\nconst file_system_engine_host_base_1 = require(\"./file-system-engine-host-base\");\n\nconst file_system_utility_1 = require(\"./file-system-utility\");\n\nclass NodePackageDoesNotSupportSchematics extends core_1.BaseException {\n  constructor(name) {\n    super(`Package ${JSON.stringify(name)} was found but does not support schematics.`);\n  }\n\n}\n\nexports.NodePackageDoesNotSupportSchematics = NodePackageDoesNotSupportSchematics;\n/**\n * A simple EngineHost that uses NodeModules to resolve collections.\n */\n\nclass NodeModulesEngineHost extends file_system_engine_host_base_1.FileSystemEngineHostBase {\n  constructor(paths) {\n    super();\n    this.paths = paths;\n  }\n\n  resolve(name, requester, references = new Set()) {\n    if (requester) {\n      if (references.has(requester)) {\n        references.add(requester);\n        throw new Error('Circular schematic reference detected: ' + JSON.stringify(Array.from(references)));\n      } else {\n        references.add(requester);\n      }\n    }\n\n    const relativeBase = requester ? (0, path_1.dirname)(requester) : process.cwd();\n    let collectionPath = undefined;\n\n    if (name.startsWith('.')) {\n      name = (0, path_1.resolve)(relativeBase, name);\n    }\n\n    const resolveOptions = {\n      paths: requester ? [(0, path_1.dirname)(requester), ...(this.paths || [])] : this.paths\n    }; // Try to resolve as a package\n\n    try {\n      const packageJsonPath = require.resolve((0, path_1.join)(name, 'package.json'), resolveOptions);\n\n      const {\n        schematics\n      } = require(packageJsonPath);\n\n      if (!schematics || typeof schematics !== 'string') {\n        throw new NodePackageDoesNotSupportSchematics(name);\n      }\n\n      collectionPath = this.resolve(schematics, packageJsonPath, references);\n    } catch (e) {\n      if (e.code !== 'MODULE_NOT_FOUND') {\n        throw e;\n      }\n    } // If not a package, try to resolve as a file\n\n\n    if (!collectionPath) {\n      try {\n        collectionPath = require.resolve(name, resolveOptions);\n      } catch (e) {\n        if (e.code !== 'MODULE_NOT_FOUND') {\n          throw e;\n        }\n      }\n    } // If not a package or a file, error\n\n\n    if (!collectionPath) {\n      throw new file_system_engine_host_base_1.CollectionCannotBeResolvedException(name);\n    }\n\n    return collectionPath;\n  }\n\n  _resolveCollectionPath(name, requester) {\n    const collectionPath = this.resolve(name, requester);\n    (0, file_system_utility_1.readJsonFile)(collectionPath);\n    return collectionPath;\n  }\n\n  _resolveReferenceString(refString, parentPath, collectionDescription) {\n    const ref = new export_ref_1.ExportStringRef(refString, parentPath);\n\n    if (!ref.ref) {\n      return null;\n    }\n\n    return {\n      ref: ref.ref,\n      path: ref.module\n    };\n  }\n\n  _transformCollectionDescription(name, desc) {\n    if (!desc.schematics || typeof desc.schematics != 'object') {\n      throw new file_system_engine_host_base_1.CollectionMissingSchematicsMapException(name);\n    }\n\n    return { ...desc,\n      name\n    };\n  }\n\n  _transformSchematicDescription(name, _collection, desc) {\n    if (!desc.factoryFn || !desc.path || !desc.description) {\n      throw new file_system_engine_host_base_1.SchematicMissingFieldsException(name);\n    }\n\n    return desc;\n  }\n\n}\n\nexports.NodeModulesEngineHost = NodeModulesEngineHost;","map":{"version":3,"names":["Object","defineProperty","exports","value","NodeModulesEngineHost","NodePackageDoesNotSupportSchematics","core_1","require","path_1","export_ref_1","file_system_engine_host_base_1","file_system_utility_1","BaseException","constructor","name","JSON","stringify","FileSystemEngineHostBase","paths","resolve","requester","references","Set","has","add","Error","Array","from","relativeBase","dirname","process","cwd","collectionPath","undefined","startsWith","resolveOptions","packageJsonPath","join","schematics","e","code","CollectionCannotBeResolvedException","_resolveCollectionPath","readJsonFile","_resolveReferenceString","refString","parentPath","collectionDescription","ref","ExportStringRef","path","module","_transformCollectionDescription","desc","CollectionMissingSchematicsMapException","_transformSchematicDescription","_collection","factoryFn","description","SchematicMissingFieldsException"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeModulesEngineHost = exports.NodePackageDoesNotSupportSchematics = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst path_1 = require(\"path\");\nconst export_ref_1 = require(\"./export-ref\");\nconst file_system_engine_host_base_1 = require(\"./file-system-engine-host-base\");\nconst file_system_utility_1 = require(\"./file-system-utility\");\nclass NodePackageDoesNotSupportSchematics extends core_1.BaseException {\n    constructor(name) {\n        super(`Package ${JSON.stringify(name)} was found but does not support schematics.`);\n    }\n}\nexports.NodePackageDoesNotSupportSchematics = NodePackageDoesNotSupportSchematics;\n/**\n * A simple EngineHost that uses NodeModules to resolve collections.\n */\nclass NodeModulesEngineHost extends file_system_engine_host_base_1.FileSystemEngineHostBase {\n    constructor(paths) {\n        super();\n        this.paths = paths;\n    }\n    resolve(name, requester, references = new Set()) {\n        if (requester) {\n            if (references.has(requester)) {\n                references.add(requester);\n                throw new Error('Circular schematic reference detected: ' + JSON.stringify(Array.from(references)));\n            }\n            else {\n                references.add(requester);\n            }\n        }\n        const relativeBase = requester ? (0, path_1.dirname)(requester) : process.cwd();\n        let collectionPath = undefined;\n        if (name.startsWith('.')) {\n            name = (0, path_1.resolve)(relativeBase, name);\n        }\n        const resolveOptions = {\n            paths: requester ? [(0, path_1.dirname)(requester), ...(this.paths || [])] : this.paths,\n        };\n        // Try to resolve as a package\n        try {\n            const packageJsonPath = require.resolve((0, path_1.join)(name, 'package.json'), resolveOptions);\n            const { schematics } = require(packageJsonPath);\n            if (!schematics || typeof schematics !== 'string') {\n                throw new NodePackageDoesNotSupportSchematics(name);\n            }\n            collectionPath = this.resolve(schematics, packageJsonPath, references);\n        }\n        catch (e) {\n            if (e.code !== 'MODULE_NOT_FOUND') {\n                throw e;\n            }\n        }\n        // If not a package, try to resolve as a file\n        if (!collectionPath) {\n            try {\n                collectionPath = require.resolve(name, resolveOptions);\n            }\n            catch (e) {\n                if (e.code !== 'MODULE_NOT_FOUND') {\n                    throw e;\n                }\n            }\n        }\n        // If not a package or a file, error\n        if (!collectionPath) {\n            throw new file_system_engine_host_base_1.CollectionCannotBeResolvedException(name);\n        }\n        return collectionPath;\n    }\n    _resolveCollectionPath(name, requester) {\n        const collectionPath = this.resolve(name, requester);\n        (0, file_system_utility_1.readJsonFile)(collectionPath);\n        return collectionPath;\n    }\n    _resolveReferenceString(refString, parentPath, collectionDescription) {\n        const ref = new export_ref_1.ExportStringRef(refString, parentPath);\n        if (!ref.ref) {\n            return null;\n        }\n        return { ref: ref.ref, path: ref.module };\n    }\n    _transformCollectionDescription(name, desc) {\n        if (!desc.schematics || typeof desc.schematics != 'object') {\n            throw new file_system_engine_host_base_1.CollectionMissingSchematicsMapException(name);\n        }\n        return {\n            ...desc,\n            name,\n        };\n    }\n    _transformSchematicDescription(name, _collection, desc) {\n        if (!desc.factoryFn || !desc.path || !desc.description) {\n            throw new file_system_engine_host_base_1.SchematicMissingFieldsException(name);\n        }\n        return desc;\n    }\n}\nexports.NodeModulesEngineHost = NodeModulesEngineHost;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}