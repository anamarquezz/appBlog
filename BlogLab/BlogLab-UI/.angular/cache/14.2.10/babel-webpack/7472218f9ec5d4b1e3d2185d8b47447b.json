{"ast":null,"code":"'use strict';\n\nconst LRU = require('lru-cache');\n\nconst MEMOIZED = new LRU({\n  max: 500,\n  maxSize: 50 * 1024 * 1024,\n  // 50MB\n  ttl: 3 * 60 * 1000,\n  // 3 minutes\n  sizeCalculation: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length\n});\nmodule.exports.clearMemoized = clearMemoized;\n\nfunction clearMemoized() {\n  const old = {};\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v;\n  });\n  MEMOIZED.clear();\n  return old;\n}\n\nmodule.exports.put = put;\n\nfunction put(cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, {\n    entry,\n    data\n  });\n  putDigest(cache, entry.integrity, data, opts);\n}\n\nmodule.exports.put.byDigest = putDigest;\n\nfunction putDigest(cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data);\n}\n\nmodule.exports.get = get;\n\nfunction get(cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`);\n}\n\nmodule.exports.get.byDigest = getDigest;\n\nfunction getDigest(cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`);\n}\n\nclass ObjProxy {\n  constructor(obj) {\n    this.obj = obj;\n  }\n\n  get(key) {\n    return this.obj[key];\n  }\n\n  set(key, val) {\n    this.obj[key] = val;\n  }\n\n}\n\nfunction pickMem(opts) {\n  if (!opts || !opts.memoize) {\n    return MEMOIZED;\n  } else if (opts.memoize.get && opts.memoize.set) {\n    return opts.memoize;\n  } else if (typeof opts.memoize === 'object') {\n    return new ObjProxy(opts.memoize);\n  } else {\n    return MEMOIZED;\n  }\n}","map":{"version":3,"names":["LRU","require","MEMOIZED","max","maxSize","ttl","sizeCalculation","entry","key","startsWith","data","length","module","exports","clearMemoized","old","forEach","v","k","clear","put","cache","opts","pickMem","set","putDigest","integrity","byDigest","get","getDigest","ObjProxy","constructor","obj","val","memoize"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/cacache/lib/memoization.js"],"sourcesContent":["'use strict'\n\nconst LRU = require('lru-cache')\n\nconst MEMOIZED = new LRU({\n  max: 500,\n  maxSize: 50 * 1024 * 1024, // 50MB\n  ttl: 3 * 60 * 1000, // 3 minutes\n  sizeCalculation: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length,\n})\n\nmodule.exports.clearMemoized = clearMemoized\n\nfunction clearMemoized () {\n  const old = {}\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v\n  })\n  MEMOIZED.clear()\n  return old\n}\n\nmodule.exports.put = put\n\nfunction put (cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, { entry, data })\n  putDigest(cache, entry.integrity, data, opts)\n}\n\nmodule.exports.put.byDigest = putDigest\n\nfunction putDigest (cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data)\n}\n\nmodule.exports.get = get\n\nfunction get (cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`)\n}\n\nmodule.exports.get.byDigest = getDigest\n\nfunction getDigest (cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`)\n}\n\nclass ObjProxy {\n  constructor (obj) {\n    this.obj = obj\n  }\n\n  get (key) {\n    return this.obj[key]\n  }\n\n  set (key, val) {\n    this.obj[key] = val\n  }\n}\n\nfunction pickMem (opts) {\n  if (!opts || !opts.memoize) {\n    return MEMOIZED\n  } else if (opts.memoize.get && opts.memoize.set) {\n    return opts.memoize\n  } else if (typeof opts.memoize === 'object') {\n    return new ObjProxy(opts.memoize)\n  } else {\n    return MEMOIZED\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}