{"ast":null,"code":"const dns = require('dns');\n\nconst conditionalHeaders = ['if-modified-since', 'if-none-match', 'if-unmodified-since', 'if-match', 'if-range'];\n\nconst configureOptions = opts => {\n  const {\n    strictSSL,\n    ...options\n  } = { ...opts\n  };\n  options.method = options.method ? options.method.toUpperCase() : 'GET';\n  options.rejectUnauthorized = strictSSL !== false;\n\n  if (!options.retry) {\n    options.retry = {\n      retries: 0\n    };\n  } else if (typeof options.retry === 'string') {\n    const retries = parseInt(options.retry, 10);\n\n    if (isFinite(retries)) {\n      options.retry = {\n        retries\n      };\n    } else {\n      options.retry = {\n        retries: 0\n      };\n    }\n  } else if (typeof options.retry === 'number') {\n    options.retry = {\n      retries: options.retry\n    };\n  } else {\n    options.retry = {\n      retries: 0,\n      ...options.retry\n    };\n  }\n\n  options.dns = {\n    ttl: 5 * 60 * 1000,\n    lookup: dns.lookup,\n    ...options.dns\n  };\n  options.cache = options.cache || 'default';\n\n  if (options.cache === 'default') {\n    const hasConditionalHeader = Object.keys(options.headers || {}).some(name => {\n      return conditionalHeaders.includes(name.toLowerCase());\n    });\n\n    if (hasConditionalHeader) {\n      options.cache = 'no-store';\n    }\n  } // cacheManager is deprecated, but if it's set and\n  // cachePath is not we should copy it to the new field\n\n\n  if (options.cacheManager && !options.cachePath) {\n    options.cachePath = options.cacheManager;\n  }\n\n  return options;\n};\n\nmodule.exports = configureOptions;","map":{"version":3,"names":["dns","require","conditionalHeaders","configureOptions","opts","strictSSL","options","method","toUpperCase","rejectUnauthorized","retry","retries","parseInt","isFinite","ttl","lookup","cache","hasConditionalHeader","Object","keys","headers","some","name","includes","toLowerCase","cacheManager","cachePath","module","exports"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/make-fetch-happen/lib/options.js"],"sourcesContent":["const dns = require('dns')\n\nconst conditionalHeaders = [\n  'if-modified-since',\n  'if-none-match',\n  'if-unmodified-since',\n  'if-match',\n  'if-range',\n]\n\nconst configureOptions = (opts) => {\n  const { strictSSL, ...options } = { ...opts }\n  options.method = options.method ? options.method.toUpperCase() : 'GET'\n  options.rejectUnauthorized = strictSSL !== false\n\n  if (!options.retry) {\n    options.retry = { retries: 0 }\n  } else if (typeof options.retry === 'string') {\n    const retries = parseInt(options.retry, 10)\n    if (isFinite(retries)) {\n      options.retry = { retries }\n    } else {\n      options.retry = { retries: 0 }\n    }\n  } else if (typeof options.retry === 'number') {\n    options.retry = { retries: options.retry }\n  } else {\n    options.retry = { retries: 0, ...options.retry }\n  }\n\n  options.dns = { ttl: 5 * 60 * 1000, lookup: dns.lookup, ...options.dns }\n\n  options.cache = options.cache || 'default'\n  if (options.cache === 'default') {\n    const hasConditionalHeader = Object.keys(options.headers || {}).some((name) => {\n      return conditionalHeaders.includes(name.toLowerCase())\n    })\n    if (hasConditionalHeader) {\n      options.cache = 'no-store'\n    }\n  }\n\n  // cacheManager is deprecated, but if it's set and\n  // cachePath is not we should copy it to the new field\n  if (options.cacheManager && !options.cachePath) {\n    options.cachePath = options.cacheManager\n  }\n\n  return options\n}\n\nmodule.exports = configureOptions\n"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAEA,MAAMC,kBAAkB,GAAG,CACzB,mBADyB,EAEzB,eAFyB,EAGzB,qBAHyB,EAIzB,UAJyB,EAKzB,UALyB,CAA3B;;AAQA,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;EACjC,MAAM;IAAEC,SAAF;IAAa,GAAGC;EAAhB,IAA4B,EAAE,GAAGF;EAAL,CAAlC;EACAE,OAAO,CAACC,MAAR,GAAiBD,OAAO,CAACC,MAAR,GAAiBD,OAAO,CAACC,MAAR,CAAeC,WAAf,EAAjB,GAAgD,KAAjE;EACAF,OAAO,CAACG,kBAAR,GAA6BJ,SAAS,KAAK,KAA3C;;EAEA,IAAI,CAACC,OAAO,CAACI,KAAb,EAAoB;IAClBJ,OAAO,CAACI,KAAR,GAAgB;MAAEC,OAAO,EAAE;IAAX,CAAhB;EACD,CAFD,MAEO,IAAI,OAAOL,OAAO,CAACI,KAAf,KAAyB,QAA7B,EAAuC;IAC5C,MAAMC,OAAO,GAAGC,QAAQ,CAACN,OAAO,CAACI,KAAT,EAAgB,EAAhB,CAAxB;;IACA,IAAIG,QAAQ,CAACF,OAAD,CAAZ,EAAuB;MACrBL,OAAO,CAACI,KAAR,GAAgB;QAAEC;MAAF,CAAhB;IACD,CAFD,MAEO;MACLL,OAAO,CAACI,KAAR,GAAgB;QAAEC,OAAO,EAAE;MAAX,CAAhB;IACD;EACF,CAPM,MAOA,IAAI,OAAOL,OAAO,CAACI,KAAf,KAAyB,QAA7B,EAAuC;IAC5CJ,OAAO,CAACI,KAAR,GAAgB;MAAEC,OAAO,EAAEL,OAAO,CAACI;IAAnB,CAAhB;EACD,CAFM,MAEA;IACLJ,OAAO,CAACI,KAAR,GAAgB;MAAEC,OAAO,EAAE,CAAX;MAAc,GAAGL,OAAO,CAACI;IAAzB,CAAhB;EACD;;EAEDJ,OAAO,CAACN,GAAR,GAAc;IAAEc,GAAG,EAAE,IAAI,EAAJ,GAAS,IAAhB;IAAsBC,MAAM,EAAEf,GAAG,CAACe,MAAlC;IAA0C,GAAGT,OAAO,CAACN;EAArD,CAAd;EAEAM,OAAO,CAACU,KAAR,GAAgBV,OAAO,CAACU,KAAR,IAAiB,SAAjC;;EACA,IAAIV,OAAO,CAACU,KAAR,KAAkB,SAAtB,EAAiC;IAC/B,MAAMC,oBAAoB,GAAGC,MAAM,CAACC,IAAP,CAAYb,OAAO,CAACc,OAAR,IAAmB,EAA/B,EAAmCC,IAAnC,CAAyCC,IAAD,IAAU;MAC7E,OAAOpB,kBAAkB,CAACqB,QAAnB,CAA4BD,IAAI,CAACE,WAAL,EAA5B,CAAP;IACD,CAF4B,CAA7B;;IAGA,IAAIP,oBAAJ,EAA0B;MACxBX,OAAO,CAACU,KAAR,GAAgB,UAAhB;IACD;EACF,CA9BgC,CAgCjC;EACA;;;EACA,IAAIV,OAAO,CAACmB,YAAR,IAAwB,CAACnB,OAAO,CAACoB,SAArC,EAAgD;IAC9CpB,OAAO,CAACoB,SAAR,GAAoBpB,OAAO,CAACmB,YAA5B;EACD;;EAED,OAAOnB,OAAP;AACD,CAvCD;;AAyCAqB,MAAM,CAACC,OAAP,GAAiBzB,gBAAjB"},"metadata":{},"sourceType":"script"}