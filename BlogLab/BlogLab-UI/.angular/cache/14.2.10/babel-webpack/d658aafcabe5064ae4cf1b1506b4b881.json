{"ast":null,"code":"\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SchematicImpl = exports.InvalidSchematicsNameException = void 0;\n\nconst core_1 = require(\"@angular-devkit/core\");\n\nconst operators_1 = require(\"rxjs/operators\");\n\nconst call_1 = require(\"../rules/call\");\n\nconst scoped_1 = require(\"../tree/scoped\");\n\nclass InvalidSchematicsNameException extends core_1.BaseException {\n  constructor(name) {\n    super(`Schematics has invalid name: \"${name}\".`);\n  }\n\n}\n\nexports.InvalidSchematicsNameException = InvalidSchematicsNameException;\n\nclass SchematicImpl {\n  constructor(_description, _factory, _collection, _engine) {\n    this._description = _description;\n    this._factory = _factory;\n    this._collection = _collection;\n    this._engine = _engine;\n\n    if (!_description.name.match(/^[-@/_.a-zA-Z0-9]+$/)) {\n      throw new InvalidSchematicsNameException(_description.name);\n    }\n  }\n\n  get description() {\n    return this._description;\n  }\n\n  get collection() {\n    return this._collection;\n  }\n\n  call(options, host, parentContext, executionOptions) {\n    const context = this._engine.createContext(this, parentContext, executionOptions);\n\n    return host.pipe((0, operators_1.first)(), (0, operators_1.concatMap)(tree => this._engine.transformOptions(this, options, context).pipe((0, operators_1.map)(o => [tree, o]))), (0, operators_1.concatMap)(([tree, transformedOptions]) => {\n      let input;\n      let scoped = false;\n\n      if (executionOptions && executionOptions.scope) {\n        scoped = true;\n        input = new scoped_1.ScopedTree(tree, executionOptions.scope);\n      } else {\n        input = tree;\n      }\n\n      return (0, call_1.callRule)(this._factory(transformedOptions), input, context).pipe((0, operators_1.map)(output => {\n        if (output === input) {\n          return tree;\n        } else if (scoped) {\n          tree.merge(output);\n          return tree;\n        } else {\n          return output;\n        }\n      }));\n    }));\n  }\n\n}\n\nexports.SchematicImpl = SchematicImpl;","map":{"version":3,"names":["Object","defineProperty","exports","value","SchematicImpl","InvalidSchematicsNameException","core_1","require","operators_1","call_1","scoped_1","BaseException","constructor","name","_description","_factory","_collection","_engine","match","description","collection","call","options","host","parentContext","executionOptions","context","createContext","pipe","first","concatMap","tree","transformOptions","map","o","transformedOptions","input","scoped","scope","ScopedTree","callRule","output","merge"],"sources":["C:/sources/GitHub/appBlog/BlogLab/BlogLab-UI/node_modules/@angular-devkit/schematics/src/engine/schematic.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SchematicImpl = exports.InvalidSchematicsNameException = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst operators_1 = require(\"rxjs/operators\");\nconst call_1 = require(\"../rules/call\");\nconst scoped_1 = require(\"../tree/scoped\");\nclass InvalidSchematicsNameException extends core_1.BaseException {\n    constructor(name) {\n        super(`Schematics has invalid name: \"${name}\".`);\n    }\n}\nexports.InvalidSchematicsNameException = InvalidSchematicsNameException;\nclass SchematicImpl {\n    constructor(_description, _factory, _collection, _engine) {\n        this._description = _description;\n        this._factory = _factory;\n        this._collection = _collection;\n        this._engine = _engine;\n        if (!_description.name.match(/^[-@/_.a-zA-Z0-9]+$/)) {\n            throw new InvalidSchematicsNameException(_description.name);\n        }\n    }\n    get description() {\n        return this._description;\n    }\n    get collection() {\n        return this._collection;\n    }\n    call(options, host, parentContext, executionOptions) {\n        const context = this._engine.createContext(this, parentContext, executionOptions);\n        return host.pipe((0, operators_1.first)(), (0, operators_1.concatMap)((tree) => this._engine\n            .transformOptions(this, options, context)\n            .pipe((0, operators_1.map)((o) => [tree, o]))), (0, operators_1.concatMap)(([tree, transformedOptions]) => {\n            let input;\n            let scoped = false;\n            if (executionOptions && executionOptions.scope) {\n                scoped = true;\n                input = new scoped_1.ScopedTree(tree, executionOptions.scope);\n            }\n            else {\n                input = tree;\n            }\n            return (0, call_1.callRule)(this._factory(transformedOptions), input, context).pipe((0, operators_1.map)((output) => {\n                if (output === input) {\n                    return tree;\n                }\n                else if (scoped) {\n                    tree.merge(output);\n                    return tree;\n                }\n                else {\n                    return output;\n                }\n            }));\n        }));\n    }\n}\nexports.SchematicImpl = SchematicImpl;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}